Turbo Assembler	 Version 4.1	    02/08/25 02:55:01	    Page 1
border.asm



      1				     ;------------------------------------------------------------------------------
      2				     ;		     First work	with video memory. Output a colored symbol to console.
      3				     ;			     @Rogov Anatoliy 08.02.2025	"Sivchuk Bad Day"
      4				     ;------------------------------------------------------------------------------
      5
      6	0000			     .model tiny									     ;set 64+
      7				     Kb	model
      8	0000			     .code										     ;define+
      9				     code block
     10				     org 100h										     ;prog's+
     11				     begging ram block
     12
     13	0100  B8 0900		     Start:  mov ax, 0900h						     ;ax = cmd(9) - print   +
     14				     str'$'
     15	0103  BA 0122r				     mov dx, offset String				     ;dx = &String
     16	0106  CD 21				     int 21h								     ;call  +
     17				     system's call manager
     18
     19	0108  E8 0005				     call PutSym							     ;call  +
     20				     function
     21
     22	010B  B8 4C00				     mov ax, 4c00h						     ;ax = cmd(4c)
     23	010E  CD 21				     int 21h								     ;call  +
     24				     scm
     25
     26				     ;------------------------------------------------------------------------------
     27				     ; Draws one char to video memory in (x = 40, y = 5)
     28				     ; Entry:		     AL	= char to print
     29				     ;				     AH	= color
     30				     ; Exit:		     None
     31				     ; Destroyed:    BX, ES
     32				     ;------------------------------------------------------------------------------
     33
     34	0110			     PutSym  proc
     35
     36	0110  BB B800				     mov bx, 0b800h						     ;bx = &ram
     37	0113  8E C3				     mov es, bx								     ;es = bx
     38	0115  BB 0370				     mov bx, 5 * 80 * 2	+ 40 * 2			     ;bx = window's size
     39	0118  26: C6 07	41			     mov byte ptr es: [bx], 'A'				     ;*(es * 16	+ bx) =	6500
     40	011C  26: C6 47	01 AC			     mov byte ptr es: [bx + 1],	10101100b    ;*(es * 16	+ bx + 1) = color
     41
     42	0121  C3				     ret									    +
     43				     ;return function value
     44	0122					     endp								     ;proc's+
     45				     ending
     46
     47				     ;------------------------------------------------------------------------------
     48
     49	      =	0ah, 0dh	     ENDL    equ 0ah, 0dh						     ;define ENDL \r, \n
     50
     51	0122  52 54 52 54 52 54	52+  String db "RTRTRTRTRTRTRTRTRTRTRT", ENDL, "$"   ;String = "..." \n	"$"
     52	      54 52 54 52 54 52	54+
     53	      52 54 52 54 52 54	52+
     54	      54 0A 0D 24
     55
     56				     end     Start								     ;pog's ending
Turbo Assembler	 Version 4.1	    02/08/25 02:55:01	    Page 2
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "02/08/25"
??FILENAME			  Text	 "border  "
??TIME				  Text	 "02:55:01"
??VERSION			  Number 040A
@32BIT				  Text	 0
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 BORDER
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
ENDL				  Text	 0ah, 0dh
PUTSYM				  Near	 DGROUP:0110
START				  Near	 DGROUP:0100
STRING				  Byte	 DGROUP:0122

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  013B Word	  Public  CODE
